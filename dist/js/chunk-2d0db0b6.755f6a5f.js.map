{"version":3,"sources":["webpack:///./src/views/SearchResultPage.vue?a4c2","webpack:///./src/views/SearchResultPage.vue?fe9d","webpack:///./src/views/SearchResultPage.vue"],"names":["render","_ctx","_cache","$props","$setup","$data","$options","_component_ProductListPage","fullPathList","products","name","store","components","ProductListPage","data","status","parentPageList","path","computed","this","concat","methods","search","endPoint","state","backendApiUrl","$route","query","fetch","method","credentials","then","res","json","catch","err","message","created","beforeRouteUpdate","to","from","__exports__"],"mappings":"yIAEM,SAAUA,EAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,IAAMC,EAA6B,eAAkB,mBAErD,OAAQ,iBAAc,eAAaA,EAA4B,CAC7DC,aAAcP,EAAKO,aACnBC,SAAUR,EAAKQ,UACd,KAAM,EAAG,CAAC,eAAgB,a,4FCFhB,iBAAgB,CAC7BC,KAAM,eACNC,MAAOA,EAAA,KACPC,WAAY,CAAEC,kBAAA,MACdC,KAJ6B,WAK3B,MAAO,CACLC,OAAQ,UACRC,eAAgB,CAAC,CAAEN,KAAM,OAAQO,KAAM,KACvCR,SAAU,KAGdS,SAAU,CACRV,aADQ,WAEN,OAAOW,KAAKH,eAAeI,OAAO,CAAC,CAAEV,KAAM,gBAAiBO,KAAM,SAGtEI,QAAS,CACPC,OADO,WACD,WACJH,KAAKJ,OAAS,UACd,IAAIQ,EAAW,GAAH,OAAMZ,EAAA,KAAMa,MAAMC,cAAlB,yBAAgDN,KAAKO,OAAOC,MAAMA,OAC9E,OAAOC,MAAML,EAAU,CAAEM,OAAQ,MAAOC,YAAa,YAClDC,MAAK,SAACC,GAEL,OADA,EAAKjB,OAAS,UACPiB,EAAIC,UAEZC,OAAM,SAACC,GAEN,OADA,EAAKpB,OAAS,SACPoB,EAAIC,aAIbC,QA/BuB,WA+BhB,wKAEY,EAAKf,SAFjB,OAEX,EAAKb,SAFM,OAE2B,QAF3B,8CAIP6B,kBAnCuB,SAmCLC,EAAIC,GAAI,2JAE1BD,EAAGZ,MAAMA,QAAUa,EAAKb,MAAMA,OAA4B,KAAnBY,EAAGZ,MAAMA,MAFtB,gCAGL,EAAKL,SAHA,OAG5B,EAAKb,SAHuB,OAGU,QAHV,gD,qBCpClC,MAAMgC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASzC,KAErD","file":"js/chunk-2d0db0b6.755f6a5f.js","sourcesContent":["import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ProductListPage = _resolveComponent(\"ProductListPage\")!\n\n  return (_openBlock(), _createBlock(_component_ProductListPage, {\n    fullPathList: _ctx.fullPathList,\n    products: _ctx.products\n  }, null, 8, [\"fullPathList\", \"products\"]))\n}","\nimport { defineComponent } from \"vue\";\nimport ProductListPage from \"@/components/ProductListPage.vue\";\nimport { ProductInfo, PageInfo } from \"@/myInterface\";\nimport store from \"@/store\";\n\nexport default defineComponent({\n  name: \"SearchResult\",\n  store: store,\n  components: { ProductListPage },\n  data() {\n    return {\n      status: \"waiting\" as \"waiting\" | \"success\" | \"failed\",\n      parentPageList: [{ name: \"Home\", path: \"\" }] as PageInfo[],\n      products: [] as ProductInfo[],\n    };\n  },\n  computed: {\n    fullPathList(): PageInfo[] {\n      return this.parentPageList.concat([{ name: \"Search Result\", path: \"#\" }]);\n    },\n  },\n  methods: {\n    search(): Promise<any> {\n      this.status = \"waiting\";\n      let endPoint = `${store.state.backendApiUrl}/search?query=${this.$route.query.query}`;\n      return fetch(endPoint, { method: \"get\", credentials: \"include\" })\n        .then((res) => {\n          this.status = \"success\";\n          return res.json();\n        })\n        .catch((err) => {\n          this.status = \"failed\";\n          return err.message;\n        });\n    },\n  },\n  async created() {\n    // TODOS: Arrange the search result.\n    this.products = (await this.search())[\"data\"];\n  },\n  async beforeRouteUpdate(to, from) {\n    // react to route changes\n    if (to.query.query !== from.query.query && to.query.query !== \"\") {\n      this.products = (await this.search())[\"data\"];\n    }\n  },\n});\n","import { render } from \"./SearchResultPage.vue?vue&type=template&id=3f1387ee&ts=true\"\nimport script from \"./SearchResultPage.vue?vue&type=script&lang=ts\"\nexport * from \"./SearchResultPage.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/jamison/Documents/my_online_shop/frontend/my_online_shop/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}