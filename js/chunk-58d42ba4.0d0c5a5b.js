(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58d42ba4"],{"06c6":function(e,t,a){},"159b":function(e,t,a){var n=a("da84"),i=a("fdbc"),r=a("785a"),s=a("17c2"),c=a("9112"),u=function(e){if(e&&e.forEach!==s)try{c(e,"forEach",s)}catch(t){e.forEach=s}};for(var o in i)i[o]&&u(n[o]&&n[o].prototype);u(r)},"17c2":function(e,t,a){"use strict";var n=a("b727").forEach,i=a("a640"),r=i("forEach");e.exports=r?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},1960:function(e,t,a){"use strict";var n=a("7a23"),i=function(e){return Object(n["w"])("data-v-6cab6b9f"),e=e(),Object(n["u"])(),e},r={id:"account-form"},s=i((function(){return Object(n["g"])("div",{class:"brand-icon"},null,-1)})),c={class:"input-table"},u=["value"],o={key:0,class:"reminder"},d=Object(n["h"])(" Do not have an account? Please "),l=["href"],p=Object(n["h"])(" here. "),f={key:1,class:"reminder"},m=Object(n["h"])(" Already have an account? Please "),b=["href"],h=Object(n["h"])(" here. ");function g(e,t,a,i,g,j){var O=Object(n["B"])("FormInput");return Object(n["t"])(),Object(n["f"])("div",r,[s,Object(n["g"])("div",c,[(Object(n["t"])(!0),Object(n["f"])(n["a"],null,Object(n["z"])(e.fieldsSettings,(function(a){return Object(n["t"])(),Object(n["d"])(O,{key:a.inputName,setting:a,initialValue:e.formData[a.inputName],displayType:e.formInputDisplayType,onInput:t[0]||(t[0]=function(t){return e.updateValue(t)})},null,8,["setting","initialValue","displayType"])})),128))]),Object(n["L"])(Object(n["g"])("div",{class:Object(n["o"])(["message-showed",[e.messageType]])},Object(n["D"])(e.messageShowed),3),[[n["I"],""!==e.messageShowed]]),Object(n["g"])("input",{type:"button",value:e.buttonName,onClick:t[1]||(t[1]=function(t){return e.$emit("clickSubmitButton")})},null,8,u),"Login"===e.pageName?(Object(n["t"])(),Object(n["f"])("div",o,[d,Object(n["g"])("a",{href:"".concat(e.publicPath,"register")},"Sign up",8,l),p])):"Register"===e.pageName?(Object(n["t"])(),Object(n["f"])("div",f,[m,Object(n["g"])("a",{href:"".concat(e.publicPath,"login")},"Sign in",8,b),h])):Object(n["e"])("",!0)])}var j=a("4af8"),O=Object(n["j"])({props:{fieldsSettings:{type:Array,required:!0},formData:{type:Object,required:!0},pageName:{type:String,required:!0},buttonName:{type:String,required:!0},messageShowed:{type:String,required:!0},messageType:{type:String,required:!0}},components:{FormInput:j["a"]},emits:["input","clickSubmitButton"],data:function(){return{publicPath:"/my_online_shop/",formInputDisplayType:"table"}},methods:{updateValue:function(e){this.$emit("input",{inputName:e.inputName,value:e.value})}}}),y=(a("6c92"),a("6b0d")),v=a.n(y);const S=v()(O,[["render",g],["__scopeId","data-v-6cab6b9f"]]);t["a"]=S},2532:function(e,t,a){"use strict";var n=a("23e7"),i=a("e330"),r=a("5a34"),s=a("1d80"),c=a("577e"),u=a("ab13"),o=i("".indexOf);n({target:"String",proto:!0,forced:!u("includes")},{includes:function(e){return!!~o(c(s(this)),c(r(e)),arguments.length>1?arguments[1]:void 0)}})},"4af8":function(e,t,a){"use strict";var n=a("7a23"),i=function(e){return Object(n["w"])("data-v-4ad31a6f"),e=e(),Object(n["u"])(),e},r=["for"],s={class:"required-mark"},c=["type","name","required","pattern","placeholder","disabled","value","size"],u=i((function(){return Object(n["g"])("span",{class:"alter-mark"},null,-1)}));function o(e,t,a,i,o,d){return Object(n["t"])(),Object(n["f"])("label",{for:e.setting.inputName,class:Object(n["o"])([e.displayType])},[Object(n["g"])("span",null,Object(n["D"])(e.setting.nameDisplayed),1),Object(n["g"])("span",s,Object(n["D"])(e.setting.required?"*":""),1),Object(n["g"])("input",{type:e.setting.type,name:e.setting.inputName,required:e.setting.required,pattern:e.setting.pattern,placeholder:e.setting.placeholder,class:Object(n["o"])({"should-alert":e.setting.shouldAlert}),disabled:e.setting.disabled,onInput:t[0]||(t[0]=function(t){return e.updateValue(t,e.setting.inputName)}),onChange:t[1]||(t[1]=function(t){return e.updateValue(t,e.setting.inputName)}),value:e.initialValue,size:e.inputSize},null,42,c),u],10,r)}var d=Object(n["j"])({props:{setting:{type:Object,required:!0},initialValue:{type:String,required:!0},displayType:{type:String,required:!0}},emits:["input"],computed:{inputSize:function(){if(-1!==this.$route.path.indexOf("/checkout")){if("address"===this.setting.inputName)return 55;if("tel"===this.setting.type)return 15;if("email"===this.setting.type)return 30}return 20}},methods:{updateValue:function(e,t){this.$emit("input",{inputName:t,value:e.currentTarget.value})}}}),l=(a("5391"),a("6b0d")),p=a.n(l);const f=p()(d,[["render",o],["__scopeId","data-v-4ad31a6f"]]);t["a"]=f},"4ea3":function(e,t,a){"use strict";a("899a")},5391:function(e,t,a){"use strict";a("06c6")},"5a34":function(e,t,a){var n=a("da84"),i=a("44e7"),r=n.TypeError;e.exports=function(e){if(i(e))throw r("The method doesn't accept regular expressions");return e}},"6c92":function(e,t,a){"use strict";a("7d8c")},"70a2":function(e,t,a){"use strict";a("88d7")},"7d8c":function(e,t,a){},"88d7":function(e,t,a){},"899a":function(e,t,a){},a55b:function(e,t,a){"use strict";a.r(t);var n=a("7a23"),i=function(e){return Object(n["w"])("data-v-14780df4"),e=e(),Object(n["u"])(),e},r={class:"login-page"},s={key:1},c=i((function(){return Object(n["g"])("div",{class:"email-not-verified-message"}," Your account hasn't been verified yet. Please check your email inbox, or click the button below to get another verification email. ",-1)})),u={class:"email-not-verified-message"},o=Object(n["h"])(" Click "),d=Object(n["h"])(" to login again if you just verified. "),l={class:"email-not-verified-message"},p=Object(n["h"])(" Click "),f=Object(n["h"])(" to get another verification email. ");function m(e,t,a,i,m,b){var h=Object(n["B"])("CurrentPathBar"),g=Object(n["B"])("AccountForm");return Object(n["t"])(),Object(n["f"])("div",r,[Object(n["i"])(h,{parentPageList:e.fullPathList},null,8,["parentPageList"]),e.shouldShowSendEmailSection?(Object(n["t"])(),Object(n["f"])("div",s,[c,Object(n["g"])("div",u,[o,Object(n["g"])("span",{class:"inline-button",onClick:t[0]||(t[0]=function(t){return e.shouldShowSendEmailSection=!1})}," here"),d]),Object(n["g"])("div",l,[p,Object(n["g"])("span",{class:"inline-button",onClick:t[1]||(t[1]=function(){return e.requestSendVerificationEmail&&e.requestSendVerificationEmail.apply(e,arguments)})}," here"),f])])):(Object(n["t"])(),Object(n["d"])(g,{key:0,fieldsSettings:e.fieldsSettings,formData:e.formData,pageName:e.pageName,buttonName:e.pageName,messageShowed:e.messageShowed,messageType:e.messageType,onInput:e.updateValue,onClickSubmitButton:e.login},null,8,["fieldsSettings","formData","pageName","buttonName","messageShowed","messageType","onInput","onClickSubmitButton"]))])}var b=a("1da1"),h=(a("96cf"),a("99af"),a("d3b7"),a("3ca3"),a("ddb0"),a("9861"),a("ac1f"),a("5319"),a("159b"),a("4de4"),a("caad"),a("2532"),a("b64b"),a("e22b")),g=a("1960"),j=a("0613"),O=Object(n["j"])({name:"Login",store:j["a"],components:{AccountForm:g["a"],CurrentPathBar:h["a"]},data:function(){return{publicPath:"/my_online_shop/",fieldsSettings:[{inputName:"email",nameDisplayed:"Email",type:"email",required:!1,pattern:"[A-Za-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$",placeholder:" ",shouldAlert:!1,disabled:!1},{inputName:"password",nameDisplayed:"Password",type:"password",required:!1,pattern:"[a-z0-9A-Z]+",placeholder:" ",shouldAlert:!1,disabled:!1}],formData:{email:"",password:""},pageName:"Login",messageShowed:"",messageType:"warning",parentPageList:[{name:"Home",path:""}],shouldShowSendEmailSection:!1}},computed:{fullPathList:function(){return this.parentPageList.concat([{name:"Login",path:"#"}])}},methods:{updateValue:function(e){this.formData[e.inputName]=e.value},login:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(n in a=new URLSearchParams,e.formData)a.append(n,e.formData[n]);return t.next=4,j["a"].dispatch("checkLoginStatus",a);case 4:i=j["a"].state.loginStatus,j["a"].state.isLoggedIn?window.location.replace(e.publicPath):(e.messageType="warning",e.messageShowed="","user not found"===i?(e.messageShowed=j["a"].state.loginStatus,e.formData.email="",e.fieldsSettings.filter((function(e){return"email"===e.inputName})).forEach((function(e){return e.shouldAlert=!0})),e.formData.password="",e.fieldsSettings.filter((function(e){return"password"===e.inputName})).forEach((function(e){return e.shouldAlert=!0}))):"wrong password"===i?(e.messageShowed=j["a"].state.loginStatus,e.formData.password="",e.fieldsSettings.filter((function(e){return"password"===e.inputName})).forEach((function(e){return e.shouldAlert=!0}))):"email not verified"===i&&(e.shouldShowSendEmailSection=!0));case 6:case"end":return t.stop()}}),t)})))()},requestSendVerificationEmail:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(n in a=new URLSearchParams,e.formData)a.append(n,e.formData[n]);return t.next=4,fetch("".concat(j["a"].state.backendApiUrl,"/resend-verification-email"),{method:"post",body:a,credentials:"include"}).then((function(e){return e.json()}));case 4:i=t.sent,"succeeded"===i.status&&(e.shouldShowSendEmailSection=!1,e.formData={email:"",password:""},e.messageShowed=i.message,e.messageType="success");case 6:case"end":return t.stop()}}),t)})))()},applyStepInMessageIfNeeded:function(){Object.keys(this.$route.params).includes("messageShowed")&&(this.messageType="success",this.messageShowed=this.$route.params.messageShowed)}},created:function(){this.applyStepInMessageIfNeeded()},beforeRouteUpdate:function(e,t){this.applyStepInMessageIfNeeded()}}),y=(a("70a2"),a("6b0d")),v=a.n(y);const S=v()(O,[["render",m],["__scopeId","data-v-14780df4"]]);t["default"]=S},ab13:function(e,t,a){var n=a("b622"),i=n("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(a){try{return t[i]=!1,"/./"[e](t)}catch(n){}}return!1}},b64b:function(e,t,a){var n=a("23e7"),i=a("7b0b"),r=a("df75"),s=a("d039"),c=s((function(){r(1)}));n({target:"Object",stat:!0,forced:c},{keys:function(e){return r(i(e))}})},caad:function(e,t,a){"use strict";var n=a("23e7"),i=a("4d64").includes,r=a("44d2");n({target:"Array",proto:!0},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r("includes")},e22b:function(e,t,a){"use strict";a("b0c0");var n=a("7a23"),i={id:"current-path-bar"},r=["href"],s={key:0,class:"slash"};function c(e,t,a,c,u,o){return Object(n["t"])(),Object(n["f"])("div",i,[(Object(n["t"])(!0),Object(n["f"])(n["a"],null,Object(n["z"])(e.parentPageList,(function(t){return Object(n["t"])(),Object(n["f"])("div",{class:"part-of-path",key:t.name},[Object(n["g"])("a",{class:"path-name",href:e.publicPath+t.path},Object(n["D"])(t.name),9,r),t.name!==e.parentPageList[e.parentPageList.length-1].name?(Object(n["t"])(),Object(n["f"])("span",s," / ")):Object(n["e"])("",!0)])})),128))])}var u=Object(n["j"])({props:{parentPageList:{type:Array,required:!0}},data:function(){return{publicPath:"/my_online_shop/"}}}),o=(a("4ea3"),a("6b0d")),d=a.n(o);const l=d()(u,[["render",c],["__scopeId","data-v-65f2ec09"]]);t["a"]=l}}]);
//# sourceMappingURL=chunk-58d42ba4.0d0c5a5b.js.map