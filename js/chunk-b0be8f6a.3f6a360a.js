(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b0be8f6a"],{"06c6":function(t,e,a){},"110e":function(t,e,a){"use strict";a("57ce")},"159b":function(t,e,a){var n=a("da84"),r=a("fdbc"),i=a("785a"),u=a("17c2"),c=a("9112"),s=function(t){if(t&&t.forEach!==u)try{c(t,"forEach",u)}catch(e){t.forEach=u}};for(var o in r)r[o]&&s(n[o]&&n[o].prototype);s(i)},"17c2":function(t,e,a){"use strict";var n=a("b727").forEach,r=a("a640"),i=r("forEach");t.exports=i?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},2532:function(t,e,a){"use strict";var n=a("23e7"),r=a("e330"),i=a("5a34"),u=a("1d80"),c=a("577e"),s=a("ab13"),o=r("".indexOf);n({target:"String",proto:!0,forced:!s("includes")},{includes:function(t){return!!~o(c(u(this)),c(i(t)),arguments.length>1?arguments[1]:void 0)}})},"4af8":function(t,e,a){"use strict";var n=a("7a23"),r=function(t){return Object(n["w"])("data-v-4ad31a6f"),t=t(),Object(n["u"])(),t},i=["for"],u={class:"required-mark"},c=["type","name","required","pattern","placeholder","disabled","value","size"],s=r((function(){return Object(n["g"])("span",{class:"alter-mark"},null,-1)}));function o(t,e,a,r,o,d){return Object(n["t"])(),Object(n["f"])("label",{for:t.setting.inputName,class:Object(n["o"])([t.displayType])},[Object(n["g"])("span",null,Object(n["D"])(t.setting.nameDisplayed),1),Object(n["g"])("span",u,Object(n["D"])(t.setting.required?"*":""),1),Object(n["g"])("input",{type:t.setting.type,name:t.setting.inputName,required:t.setting.required,pattern:t.setting.pattern,placeholder:t.setting.placeholder,class:Object(n["o"])({"should-alert":t.setting.shouldAlert}),disabled:t.setting.disabled,onInput:e[0]||(e[0]=function(e){return t.updateValue(e,t.setting.inputName)}),onChange:e[1]||(e[1]=function(e){return t.updateValue(e,t.setting.inputName)}),value:t.initialValue,size:t.inputSize},null,42,c),s],10,i)}var d=Object(n["j"])({props:{setting:{type:Object,required:!0},initialValue:{type:String,required:!0},displayType:{type:String,required:!0}},emits:["input"],computed:{inputSize:function(){if(-1!==this.$route.path.indexOf("/checkout")){if("address"===this.setting.inputName)return 55;if("tel"===this.setting.type)return 15;if("email"===this.setting.type)return 30}return 20}},methods:{updateValue:function(t,e){this.$emit("input",{inputName:e,value:t.currentTarget.value})}}}),l=(a("5391"),a("6b0d")),p=a.n(l);const f=p()(d,[["render",o],["__scopeId","data-v-4ad31a6f"]]);e["a"]=f},"4ea3":function(t,e,a){"use strict";a("899a")},5391:function(t,e,a){"use strict";a("06c6")},"57ce":function(t,e,a){},"5a34":function(t,e,a){var n=a("da84"),r=a("44e7"),i=n.TypeError;t.exports=function(t){if(r(t))throw i("The method doesn't accept regular expressions");return t}},"899a":function(t,e,a){},ab13:function(t,e,a){var n=a("b622"),r=n("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[r]=!1,"/./"[t](e)}catch(n){}}return!1}},b64b:function(t,e,a){var n=a("23e7"),r=a("7b0b"),i=a("df75"),u=a("d039"),c=u((function(){i(1)}));n({target:"Object",stat:!0,forced:c},{keys:function(t){return i(r(t))}})},caad:function(t,e,a){"use strict";var n=a("23e7"),r=a("4d64").includes,i=a("44d2");n({target:"Array",proto:!0},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},e22b:function(t,e,a){"use strict";a("b0c0");var n=a("7a23"),r={id:"current-path-bar"},i=["href"],u={key:0,class:"slash"};function c(t,e,a,c,s,o){return Object(n["t"])(),Object(n["f"])("div",r,[(Object(n["t"])(!0),Object(n["f"])(n["a"],null,Object(n["z"])(t.parentPageList,(function(e){return Object(n["t"])(),Object(n["f"])("div",{class:"part-of-path",key:e.name},[Object(n["g"])("a",{class:"path-name",href:t.publicPath+e.path},Object(n["D"])(e.name),9,i),e.name!==t.parentPageList[t.parentPageList.length-1].name?(Object(n["t"])(),Object(n["f"])("span",u," / ")):Object(n["e"])("",!0)])})),128))])}var s=Object(n["j"])({props:{parentPageList:{type:Array,required:!0}},data:function(){return{publicPath:"/my_online_shop/"}}}),o=(a("4ea3"),a("6b0d")),d=a.n(o);const l=d()(s,[["render",c],["__scopeId","data-v-65f2ec09"]]);e["a"]=l},f23c:function(t,e,a){"use strict";a.r(e);var n=a("7a23"),r=function(t){return Object(n["w"])("data-v-4c1b5582"),t=t(),Object(n["u"])(),t},i={id:"edit-profile-page"},u={class:"main"},c={class:"text-input-table"},s={id:"gender-input-row"},o=r((function(){return Object(n["g"])("span",null,"Gender",-1)})),d=["value","checked"],l={class:"button-section"};function p(t,e,a,r,p,f){var b=Object(n["B"])("CurrentPathBar"),h=Object(n["B"])("FormInput");return Object(n["t"])(),Object(n["f"])("div",i,[Object(n["i"])(b,{parentPageList:t.fullPathList},null,8,["parentPageList"]),Object(n["g"])("div",u,[Object(n["g"])("div",c,[(Object(n["t"])(!0),Object(n["f"])(n["a"],null,Object(n["z"])(t.textInputSettings,(function(a){return Object(n["t"])(),Object(n["d"])(h,{key:a.inputName,setting:a,initialValue:t.originalFormData[a.inputName],displayType:"table",onInput:e[0]||(e[0]=function(e){return t.updateValue(e)})},null,8,["setting","initialValue"])})),128))]),Object(n["g"])("div",s,[o,(Object(n["t"])(!0),Object(n["f"])(n["a"],null,Object(n["z"])(t.genderOptios,(function(a){return Object(n["t"])(),Object(n["f"])("label",{for:"gender",key:a},[Object(n["L"])(Object(n["g"])("input",{type:"radio",name:"gender",value:a,checked:a===t.originalFormData.gender,"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.updatedFormData.gender=e})},null,8,d),[[n["F"],t.updatedFormData.gender]]),Object(n["h"])(" "+Object(n["D"])(a),1)])})),128))]),Object(n["L"])(Object(n["g"])("div",{class:"alert-message"},Object(n["D"])(t.messageShowed),513),[[n["I"],""!==t.messageShowed]]),Object(n["g"])("div",l,[Object(n["g"])("input",{type:"button",value:"Save",onClick:e[2]||(e[2]=function(){return t.save&&t.save.apply(t,arguments)}),id:"save-button",class:"button"}),Object(n["g"])("input",{type:"button",value:"Discard",onClick:e[3]||(e[3]=function(){return t.discard&&t.discard.apply(t,arguments)}),id:"discard-button",class:"button"})])])])}var f=a("1da1"),b=(a("96cf"),a("99af"),a("caad"),a("2532"),a("b64b"),a("d3b7"),a("3ca3"),a("ddb0"),a("9861"),a("ac1f"),a("5319"),a("159b"),a("4de4"),a("0613")),h=a("e22b"),m=a("4af8"),g=Object(n["j"])({name:"EditProfilePage",store:b["a"],components:{CurrentPathBar:h["a"],FormInput:m["a"]},data:function(){return{publicPath:"/my_online_shop/",parentPageList:[{name:"Home",path:""},{name:"Account Center",path:"account-center"}],textInputSettings:[{inputName:"name",nameDisplayed:"Your Name",type:"text",required:!0,pattern:".{2,32}",placeholder:" ",shouldAlert:!1,disabled:!1},{inputName:"email",nameDisplayed:"Email",type:"email",required:!0,pattern:"[A-Za-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$",placeholder:" ",shouldAlert:!1,disabled:!1},{inputName:"phone_number",nameDisplayed:"Phone #",type:"tel",required:!1,pattern:"09[0-9]{8}",placeholder:"09XXXXXXXX",shouldAlert:!1,disabled:!1},{inputName:"date_of_birth",nameDisplayed:"Date Of Birth",type:"date",required:!1,pattern:".+",placeholder:" ",shouldAlert:!1,disabled:!1}],genderOptios:["Male","Female","Others"],updatedFormData:{name:"",email:"",phone_number:"",gender:"",date_of_birth:""},pageName:"EditProfilePage",messageShowed:""}},computed:{fullPathList:function(){return this.parentPageList.concat([{name:"Edit",path:"#"}])},originalFormData:function(){var t={};for(var e in b["a"].state.userInfo)Object.keys(this.updatedFormData).includes(e)&&(t[e]=b["a"].state.userInfo[e],this.updatedFormData[e]=b["a"].state.userInfo[e]);return t}},methods:{updateValue:function(t){this.updatedFormData[t.inputName]=t.value},save:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(n in a=new URLSearchParams,t.updatedFormData)""!==t.updatedFormData[n]&&a.append(n,t.updatedFormData[n]);return e.next=4,fetch("".concat(b["a"].state.backendApiUrl,"/edit-profile"),{method:"post",body:a,credentials:"include"}).then((function(t){return t.json()}));case 4:r=e.sent,"succeeded"===r.status?window.location.replace("".concat(t.publicPath,"account-center")):(t.messageShowed=r.status,"info not sufficient"===r.status?t.textInputSettings.filter((function(e){return""===t.updatedFormData[e.inputName]})).forEach((function(t){return t.shouldAlert=!0})):"name too long"===r.status||"name too short"===r.status?t.textInputSettings.filter((function(t){return"name"===t.inputName})).forEach((function(t){return t.shouldAlert=!0})):"duplicate email"===r.status?t.textInputSettings.filter((function(t){return"email"===t.inputName})).forEach((function(t){return t.shouldAlert=!0})):"email not verified"===r.status&&(b["a"].dispatch("logout"),t.$router.replace({name:"Login",params:{messageShowed:r.message}})));case 6:case"end":return e.stop()}}),e)})))()},discard:function(){this.$router.replace("/account-center")}}}),O=(a("110e"),a("6b0d")),j=a.n(O);const v=j()(g,[["render",p],["__scopeId","data-v-4c1b5582"]]);e["default"]=v}}]);
//# sourceMappingURL=chunk-b0be8f6a.3f6a360a.js.map