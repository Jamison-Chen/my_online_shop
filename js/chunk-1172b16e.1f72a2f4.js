(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1172b16e"],{"0127":function(t,e,n){},"06c6":function(t,e,n){},"159b":function(t,e,n){var a=n("da84"),r=n("fdbc"),i=n("785a"),c=n("17c2"),u=n("9112"),o=function(t){if(t&&t.forEach!==c)try{u(t,"forEach",c)}catch(e){t.forEach=c}};for(var s in r)r[s]&&o(a[s]&&a[s].prototype);o(i)},"17c2":function(t,e,n){"use strict";var a=n("b727").forEach,r=n("a640"),i=r("forEach");t.exports=i?[].forEach:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}},2532:function(t,e,n){"use strict";var a=n("23e7"),r=n("e330"),i=n("5a34"),c=n("1d80"),u=n("577e"),o=n("ab13"),s=r("".indexOf);a({target:"String",proto:!0,forced:!o("includes")},{includes:function(t){return!!~s(u(c(this)),u(i(t)),arguments.length>1?arguments[1]:void 0)}})},"4af8":function(t,e,n){"use strict";var a=n("7a23"),r=function(t){return Object(a["w"])("data-v-4ad31a6f"),t=t(),Object(a["u"])(),t},i=["for"],c={class:"required-mark"},u=["type","name","required","pattern","placeholder","disabled","value","size"],o=r((function(){return Object(a["g"])("span",{class:"alter-mark"},null,-1)}));function s(t,e,n,r,s,d){return Object(a["t"])(),Object(a["f"])("label",{for:t.setting.inputName,class:Object(a["o"])([t.displayType])},[Object(a["g"])("span",null,Object(a["D"])(t.setting.nameDisplayed),1),Object(a["g"])("span",c,Object(a["D"])(t.setting.required?"*":""),1),Object(a["g"])("input",{type:t.setting.type,name:t.setting.inputName,required:t.setting.required,pattern:t.setting.pattern,placeholder:t.setting.placeholder,class:Object(a["o"])({"should-alert":t.setting.shouldAlert}),disabled:t.setting.disabled,onInput:e[0]||(e[0]=function(e){return t.updateValue(e,t.setting.inputName)}),onChange:e[1]||(e[1]=function(e){return t.updateValue(e,t.setting.inputName)}),value:t.initialValue,size:t.inputSize},null,42,u),o],10,i)}var d=Object(a["j"])({props:{setting:{type:Object,required:!0},initialValue:{type:String,required:!0},displayType:{type:String,required:!0}},emits:["input"],computed:{inputSize:function(){if(-1!==this.$route.path.indexOf("/checkout")){if("address"===this.setting.inputName)return 55;if("tel"===this.setting.type)return 15;if("email"===this.setting.type)return 30}return 20}},methods:{updateValue:function(t,e){this.$emit("input",{inputName:e,value:t.currentTarget.value})}}}),l=(n("5391"),n("6b0d")),p=n.n(l);const f=p()(d,[["render",s],["__scopeId","data-v-4ad31a6f"]]);e["a"]=f},5391:function(t,e,n){"use strict";n("06c6")},"5a34":function(t,e,n){var a=n("da84"),r=n("44e7"),i=a.TypeError;t.exports=function(t){if(r(t))throw i("The method doesn't accept regular expressions");return t}},"6b2b":function(t,e,n){"use strict";n("0127")},8817:function(t,e,n){"use strict";n("bc26")},ab13:function(t,e,n){var a=n("b622"),r=a("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(a){}}return!1}},b64b:function(t,e,n){var a=n("23e7"),r=n("7b0b"),i=n("df75"),c=n("d039"),u=c((function(){i(1)}));a({target:"Object",stat:!0,forced:u},{keys:function(t){return i(r(t))}})},bc26:function(t,e,n){},caad:function(t,e,n){"use strict";var a=n("23e7"),r=n("4d64").includes,i=n("44d2");a({target:"Array",proto:!0},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},e22b:function(t,e,n){"use strict";n("b0c0");var a=n("7a23"),r={id:"current-path-bar"},i=["href"],c={key:0,class:"slash"};function u(t,e,n,u,o,s){return Object(a["t"])(),Object(a["f"])("div",r,[(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(t.parentPageList,(function(e){return Object(a["t"])(),Object(a["f"])("div",{class:"part-of-path",key:e.name},[Object(a["g"])("a",{class:"path-name",href:t.getCorrectPath(e.path)},Object(a["D"])(e.name),9,i),e.name!==t.parentPageList[t.parentPageList.length-1].name?(Object(a["t"])(),Object(a["f"])("span",c," / ")):Object(a["e"])("",!0)])})),128))])}n("99af");var o=Object(a["j"])({props:{parentPageList:{type:Array,required:!0}},data:function(){return{publicPath:"/my_online_shop/"}},methods:{getCorrectPath:function(t){if(-1!==t.indexOf("./")){var e=window.location.pathname;return"/"!==e[e.length-1]?"".concat(e,"/").concat(t):t}return"".concat(this.publicPath).concat(t)}}}),s=(n("8817"),n("6b0d")),d=n.n(s);const l=d()(o,[["render",u],["__scopeId","data-v-4e53a898"]]);e["a"]=l},f23c:function(t,e,n){"use strict";n.r(e);var a=n("7a23"),r=function(t){return Object(a["w"])("data-v-6ca84ac0"),t=t(),Object(a["u"])(),t},i={id:"edit-profile-page"},c={class:"main"},u={class:"text-input-table"},o={id:"gender-input-row"},s=r((function(){return Object(a["g"])("span",null,"Gender",-1)})),d=["value","checked"],l={class:"button-section"};function p(t,e,n,r,p,f){var b=Object(a["B"])("CurrentPathBar"),h=Object(a["B"])("FormInput");return Object(a["t"])(),Object(a["f"])("div",i,[Object(a["i"])(b,{parentPageList:t.fullPathList},null,8,["parentPageList"]),Object(a["g"])("div",c,[Object(a["g"])("div",u,[(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(t.textInputSettings,(function(n){return Object(a["t"])(),Object(a["d"])(h,{key:n.inputName,setting:n,initialValue:t.originalFormData[n.inputName],displayType:"table",onInput:e[0]||(e[0]=function(e){return t.updateValue(e)})},null,8,["setting","initialValue"])})),128))]),Object(a["g"])("div",o,[s,(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(t.genderOptios,(function(n){return Object(a["t"])(),Object(a["f"])("label",{for:"gender",key:n},[Object(a["L"])(Object(a["g"])("input",{type:"radio",name:"gender",value:n,checked:n===t.originalFormData.gender,"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.updatedFormData.gender=e})},null,8,d),[[a["F"],t.updatedFormData.gender]]),Object(a["h"])(" "+Object(a["D"])(n),1)])})),128))]),Object(a["L"])(Object(a["g"])("div",{class:"alert-message"},Object(a["D"])(t.messageShowed),513),[[a["I"],""!==t.messageShowed]]),Object(a["g"])("div",l,[Object(a["g"])("input",{type:"button",value:"Save",onClick:e[2]||(e[2]=function(){return t.save&&t.save.apply(t,arguments)}),id:"save-button",class:"button"}),Object(a["g"])("input",{type:"button",value:"Discard",onClick:e[3]||(e[3]=function(){return t.discard&&t.discard.apply(t,arguments)}),id:"discard-button",class:"button"})])])])}var f=n("1da1"),b=(n("96cf"),n("99af"),n("caad"),n("2532"),n("b64b"),n("d3b7"),n("3ca3"),n("ddb0"),n("9861"),n("ac1f"),n("5319"),n("159b"),n("4de4"),n("0613")),h=n("e22b"),m=n("4af8"),g=Object(a["j"])({name:"EditProfilePage",store:b["a"],components:{CurrentPathBar:h["a"],FormInput:m["a"]},data:function(){return{publicPath:"/my_online_shop/",parentPageList:[{name:"Home",path:""},{name:"Account Center",path:"account-center"}],textInputSettings:[{inputName:"name",nameDisplayed:"Your Name",type:"text",required:!0,pattern:".{2,32}",placeholder:" ",shouldAlert:!1,disabled:!1},{inputName:"email",nameDisplayed:"Email",type:"email",required:!0,pattern:"[A-Za-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$",placeholder:" ",shouldAlert:!1,disabled:!1},{inputName:"phone_number",nameDisplayed:"Phone #",type:"tel",required:!1,pattern:"09[0-9]{8}",placeholder:"09XXXXXXXX",shouldAlert:!1,disabled:!1},{inputName:"date_of_birth",nameDisplayed:"Date Of Birth",type:"date",required:!1,pattern:".+",placeholder:" ",shouldAlert:!1,disabled:!1}],genderOptios:["Male","Female","Others"],updatedFormData:{name:"",email:"",phone_number:"",gender:"",date_of_birth:""},pageName:"EditProfilePage",messageShowed:""}},computed:{fullPathList:function(){return this.parentPageList.concat([{name:"Edit",path:"./#"}])},originalFormData:function(){var t={};for(var e in b["a"].state.userInfo)Object.keys(this.updatedFormData).includes(e)&&(t[e]=b["a"].state.userInfo[e],this.updatedFormData[e]=b["a"].state.userInfo[e]);return t}},methods:{updateValue:function(t){this.updatedFormData[t.inputName]=t.value},save:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){var n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a in n=new URLSearchParams,t.updatedFormData)""!==t.updatedFormData[a]&&n.append(a,t.updatedFormData[a]);return e.next=4,fetch("".concat(b["a"].state.backendApiUrl,"/edit-profile"),{method:"post",body:n,credentials:"include"}).then((function(t){return t.json()}));case 4:r=e.sent,"succeeded"===r.status?window.location.replace("".concat(t.publicPath,"account-center")):(t.messageShowed=r.status,"info not sufficient"===r.status?t.textInputSettings.filter((function(e){return""===t.updatedFormData[e.inputName]})).forEach((function(t){return t.shouldAlert=!0})):"name too long"===r.status||"name too short"===r.status?t.textInputSettings.filter((function(t){return"name"===t.inputName})).forEach((function(t){return t.shouldAlert=!0})):"duplicate email"===r.status?t.textInputSettings.filter((function(t){return"email"===t.inputName})).forEach((function(t){return t.shouldAlert=!0})):"email not verified"===r.status&&(b["a"].dispatch("logout"),t.$router.replace({name:"Login",params:{messageShowed:r.message}})));case 6:case"end":return e.stop()}}),e)})))()},discard:function(){this.$router.replace("/account-center")}}}),O=(n("6b2b"),n("6b0d")),j=n.n(O);const v=j()(g,[["render",p],["__scopeId","data-v-6ca84ac0"]]);e["default"]=v}}]);
//# sourceMappingURL=chunk-1172b16e.1f72a2f4.js.map